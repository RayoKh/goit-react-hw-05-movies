"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[38],{38:function(e,n,r){r.r(n),r.d(n,{default:function(){return L}});var t=r(861);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){a(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var i,u,c,l,p,d,f,m,x=r(439),h=r(757),v=r.n(h),w=r(791),b="app:user",g=function(){try{var e=localStorage.getItem(b);return e?JSON.parse(e):null}catch(n){return console.error("Failed to read user from storage",n),null}},j=function(e){try{localStorage.setItem(b,JSON.stringify(e))}catch(n){console.error("Failed to save user to storage",n)}return e},y=function(){var e=(0,t.Z)(v().mark((function e(n){var r,t,a,o,s;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.name,t=n.email,a=n.password,r&&t&&a){e.next=3;break}throw new Error("\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0456\u043c\u02bc\u044f, email \u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457.");case 3:if(!(o=g())||o.email!==t){e.next=6;break}throw new Error("\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447 \u0437 \u0442\u0430\u043a\u0438\u043c email \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454.");case 6:return s={name:r,email:t,password:a,updatedAt:(new Date).toISOString()},e.abrupt("return",j(s));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,t.Z)(v().mark((function e(n){var r,t,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.email,t=n.password,r&&t){e.next=3;break}throw new Error("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c email \u0442\u0430 \u043f\u0430\u0440\u043e\u043b\u044c.");case 3:if((a=g())&&a.email===r&&a.password===t){e.next=6;break}throw new Error("\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 email \u0430\u0431\u043e \u043f\u0430\u0440\u043e\u043b\u044c.");case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=(0,t.Z)(v().mark((function e(n){var r,t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g()){e.next=3;break}throw new Error("\u0421\u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u0441\u0432\u043e\u0433\u043e \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443.");case 3:return t=s(s(s({},r),n),{},{updatedAt:(new Date).toISOString()}),e.abrupt("return",j(t));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,t.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(b);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=r(168),P=r(867),C=P.ZP.div(i||(i=(0,S.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 24px;\n"]))),E=P.ZP.section(u||(u=(0,S.Z)(["\n  padding: 16px;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\n"]))),D=P.ZP.h2(c||(c=(0,S.Z)(["\n  margin-top: 0;\n  margin-bottom: 12px;\n"]))),I=P.ZP.label(l||(l=(0,S.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  margin-bottom: 12px;\n  font-weight: 500;\n"]))),A=P.ZP.input(p||(p=(0,S.Z)(["\n  padding: 8px 10px;\n  border: 1px solid #ccc;\n  border-radius: 6px;\n"]))),_=P.ZP.button(d||(d=(0,S.Z)(["\n  padding: 10px 14px;\n  border: none;\n  border-radius: 6px;\n  background-color: #222;\n  color: #fff;\n  font-weight: 600;\n  cursor: pointer;\n\n  &:disabled {\n    background-color: #9e9e9e;\n    cursor: not-allowed;\n  }\n"]))),F=P.ZP.p(f||(f=(0,S.Z)(["\n  margin-top: 8px;\n  color: #3f3f3f;\n"]))),J=P.ZP.hr(m||(m=(0,S.Z)(["\n  border: none;\n  border-top: 1px solid #dcdcdc;\n  margin: 16px 0;\n"]))),N=r(184),L=function(){var e=(0,w.useState)((function(){return g()})),n=(0,x.Z)(e,2),r=n[0],o=n[1],i=(0,w.useState)(""),u=(0,x.Z)(i,2),c=u[0],l=u[1],p=(0,w.useState)({name:"",email:"",password:""}),d=(0,x.Z)(p,2),f=d[0],m=d[1],h=(0,w.useState)({email:"",password:""}),b=(0,x.Z)(h,2),j=b[0],S=b[1],P=(0,w.useState)({name:(null===r||void 0===r?void 0:r.name)||"",email:(null===r||void 0===r?void 0:r.email)||"",password:""}),L=(0,x.Z)(P,2),M=L[0],q=L[1];(0,w.useEffect)((function(){q((function(e){return s(s({},e),{},{name:(null===r||void 0===r?void 0:r.name)||"",email:(null===r||void 0===r?void 0:r.email)||""})}))}),[r]);var z=function(){return l("")},B=function(e){var n=e.target,r=n.name,t=n.value;z(),m((function(e){return s(s({},e),{},a({},r,t))}))},G=function(e){var n=e.target,r=n.name,t=n.value;z(),S((function(e){return s(s({},e),{},a({},r,t))}))},H=function(e){var n=e.target,r=n.name,t=n.value;z(),q((function(e){return s(s({},e),{},a({},r,t))}))},K=function(){var e=(0,t.Z)(v().mark((function e(n){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,y(f);case 4:r=e.sent,o(r),l("\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u0430! \u0412\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u043d\u043e \u0443\u0432\u0456\u0439\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,t.Z)(v().mark((function e(n){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,Z(j);case 4:r=e.sent,o(r),l("\u0412\u0445\u0456\u0434 \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e \u0443\u0441\u043f\u0456\u0448\u043d\u043e."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=(0,t.Z)(v().mark((function e(n){var r,t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,(r=s({},M)).password||delete r.password,e.next=6,k(r);case 6:t=e.sent,o(t),l("\u0414\u0430\u043d\u0456 \u043f\u0440\u043e\u0444\u0456\u043b\u044e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),l(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=(0,t.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:o(null),l("\u0412\u0438 \u0432\u0438\u0439\u0448\u043b\u0438 \u0437 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443.");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=(0,w.useMemo)((function(){return null!==r&&void 0!==r&&r.updatedAt?new Date(r.updatedAt).toLocaleString():null}),[r]);return(0,N.jsxs)("div",{children:[(0,N.jsx)("h1",{children:"\u041a\u0435\u0440\u0443\u0432\u0430\u043d\u043d\u044f \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u043c \u0437\u0430\u043f\u0438\u0441\u043e\u043c"}),(0,N.jsxs)(C,{children:[(0,N.jsxs)(E,{children:[(0,N.jsx)(D,{children:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f"}),(0,N.jsxs)("form",{onSubmit:K,children:[(0,N.jsxs)(I,{children:["\u0406\u043c\u02bc\u044f",(0,N.jsx)(A,{type:"text",name:"name",value:f.name,onChange:B})]}),(0,N.jsxs)(I,{children:["Email",(0,N.jsx)(A,{type:"email",name:"email",value:f.email,onChange:B})]}),(0,N.jsxs)(I,{children:["\u041f\u0430\u0440\u043e\u043b\u044c",(0,N.jsx)(A,{type:"password",name:"password",value:f.password,onChange:B})]}),(0,N.jsx)(_,{type:"submit",children:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f"})]})]}),(0,N.jsxs)(E,{children:[(0,N.jsx)(D,{children:"\u0412\u0445\u0456\u0434"}),(0,N.jsxs)("form",{onSubmit:Q,children:[(0,N.jsxs)(I,{children:["Email",(0,N.jsx)(A,{type:"email",name:"email",value:j.email,onChange:G})]}),(0,N.jsxs)(I,{children:["\u041f\u0430\u0440\u043e\u043b\u044c",(0,N.jsx)(A,{type:"password",name:"password",value:j.password,onChange:G})]}),(0,N.jsx)(_,{type:"submit",children:"\u0423\u0432\u0456\u0439\u0442\u0438"})]})]}),(0,N.jsxs)(E,{children:[(0,N.jsx)(D,{children:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0444\u0456\u043b\u044e"}),(0,N.jsxs)("form",{onSubmit:R,children:[(0,N.jsxs)(I,{children:["\u0406\u043c\u02bc\u044f",(0,N.jsx)(A,{type:"text",name:"name",value:M.name,onChange:H,disabled:!r})]}),(0,N.jsxs)(I,{children:["Email",(0,N.jsx)(A,{type:"email",name:"email",value:M.email,onChange:H,disabled:!r})]}),(0,N.jsxs)(I,{children:["\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c (\u043d\u0435\u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u043e)",(0,N.jsx)(A,{type:"password",name:"password",value:M.password,onChange:H,disabled:!r})]}),(0,N.jsx)(_,{type:"submit",disabled:!r,children:"\u041e\u043d\u043e\u0432\u0438\u0442\u0438 \u0434\u0430\u043d\u0456"})]}),(0,N.jsx)(J,{}),(0,N.jsx)(_,{type:"button",onClick:T,disabled:!r,children:"\u0412\u0438\u0439\u0442\u0438"}),r&&(0,N.jsxs)(F,{children:["\u0417\u0430\u0440\u0430\u0437 \u0432\u0438 \u0443\u0432\u0456\u0439\u0448\u043b\u0438 \u044f\u043a ",(0,N.jsx)("strong",{children:r.email}),U?" (\u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e ".concat(U,")"):null]})]})]}),c&&(0,N.jsx)(F,{children:c})]})}},861:function(e,n,r){function t(e,n,r,t,a,o,s){try{var i=e[o](s),u=i.value}catch(c){return void r(c)}i.done?n(u):Promise.resolve(u).then(t,a)}function a(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var s=e.apply(n,r);function i(e){t(s,a,o,i,u,"next",e)}function u(e){t(s,a,o,i,u,"throw",e)}i(void 0)}))}}r.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=38.c5a81483.chunk.js.map